<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åª½åª½çš„å¥åº·å°ç§˜æ›¸</title>
    
    <!-- å¼•å…¥ React å’Œ ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- å¼•å…¥ Babel ç”¨æ–¼è§£æ JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* ç¦æ­¢é¸å–æ–‡å­—ï¼Œè®“æ“ä½œæ›´æœ‰ App çš„æ„Ÿè¦º */
        body {
            -webkit-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // ----------------------------------------------------------------------
        // åœ–ç¤ºå…ƒä»¶ (æ‰‹å‹•å®šç¾©ä»¥ç¢ºä¿å–®æª”é‹ä½œ)
        // ----------------------------------------------------------------------
        const IconBase = ({ children, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>{children}</svg>
        );

        const Check = (props) => <IconBase {...props}><polyline points="20 6 9 17 4 12" /></IconBase>;
        const Info = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10" /><line x1="12" y1="16" x2="12" y2="12" /><line x1="12" y1="8" x2="12.01" y2="8" /></IconBase>;
        const Pill = (props) => <IconBase {...props}><path d="m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z"/><path d="m8.5 8.5 7 7"/></IconBase>;
        const Sun = (props) => <IconBase {...props}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></IconBase>;
        const Moon = (props) => <IconBase {...props}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></IconBase>;
        const Sunrise = (props) => <IconBase {...props}><path d="M12 2v8"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/><path d="M22 22H2"/><path d="M8 22v-2a4 4 0 0 1 8 0v2"/></IconBase>;
        const AlertTriangle = (props) => <IconBase {...props}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></IconBase>;
        const BookOpen = (props) => <IconBase {...props}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></IconBase>;
        const Heart = (props) => <IconBase {...props}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></IconBase>;
        const Eye = (props) => <IconBase {...props}><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></IconBase>;
        const Activity = (props) => <IconBase {...props}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></IconBase>;
        const Zap = (props) => <IconBase {...props}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></IconBase>;
        const Shield = (props) => <IconBase {...props}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></IconBase>;
        const Sparkles = (props) => <IconBase {...props}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></IconBase>;
        const RotateCcw = (props) => <IconBase {...props}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></IconBase>;
        const Clock = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></IconBase>;
        const X = (props) => <IconBase {...props}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></IconBase>;

        // ----------------------------------------------------------------------
        // æ•¸æ“šè³‡æ–™çµæ§‹
        // ----------------------------------------------------------------------

        const SCHEDULE_DATA = [
          {
            id: 'breakfast',
            title: 'ğŸŒ… æ—©é¤æ™‚æ®µ',
            subtitle: 'åƒé£½é£½ã€æ…¢æ…¢åƒ',
            desc: 'ã€é‡é»ï¼šå•Ÿå‹•èº«é«” + è™•æ–¹è—¥è­·ç†ã€‘',
            color: 'bg-orange-50',
            borderColor: 'border-orange-200',
            items: [
              {
                id: 'b-arinamin',
                name: 'Bç¾¤ (é»ƒè‰²ç³–è¡£éŒ )',
                dose: '2 éŒ ',
                timing: 'åƒé£¯ä¸­é€”åƒ',
                tagColor: 'bg-yellow-400 text-yellow-900',
                note: 'éš¨é¤åƒï¼Œæ¸›å°‘èƒƒåˆºæ¿€'
              },
              {
                id: 'b-meletin',
                name: 'è„ˆå¾‹å¾ª (è™•æ–¹è† å›Š/è—¥éŒ )',
                dose: '1 é¡†',
                timing: 'é£¯å¾Œç«‹åˆ»åƒ',
                tagColor: 'bg-red-100 text-red-800',
                isMed: true
              },
              {
                id: 'b-xanthium',
                name: 'å–„å¯§ (é•·æ•ˆå‹è† å›Š)',
                dose: '1 é¡†',
                timing: 'é£¯å¾Œç«‹åˆ»åƒ',
                tagColor: 'bg-red-100 text-red-800',
                isMed: true,
                warning: 'çµ•å°ä¸å¯å’¬ç¢ï¼ä¸€å®šè¦æ•´é¡†åï¼'
              },
              {
                id: 'b-blueberry',
                name: 'è—è“è† å›Š (æ·±ç´«è‰²è»Ÿè† å›Š)',
                dose: '2 é¡†',
                timing: 'é£¯å¾Œåƒ',
                tagColor: 'bg-purple-100 text-purple-900',
                note: 'ä¿è­·çœ¼ç›'
              }
            ]
          },
          {
            id: 'lunch',
            title: 'â˜€ï¸ åˆé¤æ™‚æ®µ',
            subtitle: 'ç‡Ÿé¤Šè£œå……ä¸»åŠ›',
            desc: 'ã€é‡é»ï¼šæ²¹æº¶æ€§ç‡Ÿé¤Šåˆ†æ•£è² æ“”ã€‘',
            color: 'bg-yellow-50',
            borderColor: 'border-yellow-200',
            items: [
              {
                id: 'l-seal',
                name: 'æµ·è±¹æ²¹ (é‡‘é»ƒé€æ˜è† å›Š)',
                dose: '2 é¡†',
                timing: 'åƒé£¯ä¸­é€”åƒ',
                tagColor: 'bg-green-200 text-green-900',
                note: 'åƒé£¯åƒä¸€åŠ -> åæµ·è±¹æ²¹ -> ç¹¼çºŒåƒ'
              },
              {
                id: 'l-kvinna',
                name: 'Kvinna 60+ (ç²‰ç´…æ©¢åœ“éŒ )',
                dose: '1 éŒ ',
                timing: 'åƒé£¯ä¸­é€”åƒ',
                tagColor: 'bg-pink-200 text-pink-900',
                note: 'ç¶œåˆç¶­ä»–å‘½'
              }
            ]
          },
          {
            id: 'dinner',
            title: 'ğŸŒ™ æ™šé¤æ™‚æ®µ',
            subtitle: 'ä¸ƒåˆ†é£½ã€æ—©é»åƒ',
            desc: 'ã€é‡é»ï¼šæ¸›è¼•å¤œé–“èƒƒéƒ¨å£“åŠ› + é—œç¯€ä¿®å¾©ã€‘',
            color: 'bg-indigo-50',
            borderColor: 'border-indigo-200',
            items: [
              {
                id: 'd-meletin',
                name: 'è„ˆå¾‹å¾ª (è™•æ–¹è† å›Š/è—¥éŒ )',
                dose: '1 é¡†',
                timing: 'é£¯å¾Œç«‹åˆ»åƒ',
                tagColor: 'bg-red-100 text-red-800',
                isMed: true
              },
              {
                id: 'd-xanthium',
                name: 'å–„å¯§ (é•·æ•ˆå‹è† å›Š)',
                dose: '1 é¡†',
                timing: 'é£¯å¾Œç«‹åˆ»åƒ',
                tagColor: 'bg-red-100 text-red-800',
                isMed: true,
                warning: 'å®¹æ˜“å°è‡´å¤œå’³ï¼Œåƒå®Œè«‹åè‘—ä¼‘æ¯ï¼Œå‹¿èººä¸‹'
              },
              {
                id: 'd-shark',
                name: 'é¯Šé­šè»Ÿéª¨ (ç™½è‰²è† å›Š)',
                dose: '2 é¡†',
                timing: 'é£¯å¾Œç«‹åˆ»åƒ',
                tagColor: 'bg-gray-200 text-gray-800',
                note: 'è‹¥è¦ºå¾—å¤ªè„¹ï¼Œå¯æ”¹åˆ°æ—©é¤åƒ'
              },
              {
                id: 'd-wakamoto',
                name: 'è‹¥å…ƒéŒ  (æ·¡è¤è‰²å°åœ“éŒ )',
                dose: '9 éŒ ',
                timing: 'é£¯å¾Œç«‹åˆ»åƒ',
                tagColor: 'bg-orange-200 text-orange-900',
                note: 'å¹«åŠ©å¿«é€Ÿæ¶ˆåŒ–ï¼Œé¿å…é€†æµ'
              }
            ]
          }
        ];

        const BENEFITS_DATA = [
          {
            category: 'ä¿é¤Šå“',
            items: [
              {
                title: 'Bç¾¤ (é»ƒè‰²ç“¶)',
                iconColor: 'bg-yellow-400',
                icon: <Zap className="w-6 h-6 text-yellow-900" />,
                function: 'å¼·åŠ› B ç¾¤ï¼ˆä¿®å¾©ç¥ç¶“ã€æ¶ˆç–²å‹ï¼‰',
                message: 'é€™æ˜¯å¹«ç¥ç¶“ç³»çµ±å……é›»çš„ã€‚å¦‚æœè¦ºå¾—è…°ç— èƒŒç—›ã€è‚©è†€åƒµç¡¬ï¼Œæˆ–æ˜¯èº«é«”è¦ºå¾—å¾ˆç´¯çš„æ™‚å€™ï¼Œé€™å€‹å¾ˆæœ‰å¹«åŠ©ã€‚'
              },
              {
                title: 'å¥³æ€§ç¶œåˆç¶­ä»–å‘½ (ç²‰ç´…ç“¶)',
                iconColor: 'bg-pink-300',
                icon: <Shield className="w-6 h-6 text-pink-900" />,
                function: 'éŠ€é«®å¥³æ€§å°ˆç”¨åº•åº§ï¼ˆè£œéˆ£ã€é¡§éª¨æœ¬ï¼‰',
                message: 'é€™æ˜¯å°ˆé–€çµ¦60æ­²ä»¥ä¸Šå¥³ç”Ÿè¨­è¨ˆçš„ã€‚è£¡é¢æœ‰éˆ£è³ªè·Ÿç¶­ç”Ÿç´ Dï¼Œèƒ½é é˜²éª¨è³ªæµå¤±ï¼Œæ˜¯æ¯å¤©çš„åŸºç¤ä¿é¤Šã€‚'
              },
              {
                title: 'è—è“è† å›Š (éŠ€ç“¶+è—è“åœ–)',
                iconColor: 'bg-purple-600',
                icon: <Eye className="w-6 h-6 text-white" />,
                function: 'çœ¼ç›çš„ç¶­ä»–å‘½ï¼ˆé¡§è€èŠ±ã€æŠ—è—å…‰ï¼‰',
                message: 'è£¡é¢æœ‰èŠ±é’ç´ å’Œè‘‰é»ƒç´ ã€‚é‡å°æ‚¨çš„è€èŠ±çœ¼ï¼Œæˆ–æ˜¯çœ‹é›»è¦–ä¹…äº†çœ¼ç›ä¹¾æ¾€ã€æµçœ¼æ·šï¼Œåƒé€™å€‹ä¿è­·è¦–ç¶²è†œã€‚'
              },
              {
                title: 'æµ·è±¹æ²¹ (ç¶ è‰²ç“¶)',
                iconColor: 'bg-green-500',
                icon: <Heart className="w-6 h-6 text-white" />,
                function: 'è¡€ç®¡æ¸…é“å¤«ï¼ˆOmega-3ã€æŠ—ç™¼ç‚ï¼‰',
                message: 'é€™æ˜¯ä¾†è‡ªåŒ—æ­çš„å¥½æ²¹ã€‚å¯ä»¥å¹«å¿™æ¸…ç†è¡€ç®¡è£¡çš„é«’æ±è¥¿ï¼Œä¿è­·å¿ƒè‡Ÿï¼Œå°æ‚¨çš„å¿ƒå¾‹ä¸æ•´ä¿é¤Šæœ‰å¥½è™•ï¼Œä¹Ÿèƒ½æ¸›è¼•é¼»å­éæ•çš„ç™¼ç‚åæ‡‰ã€‚'
              },
              {
                title: 'é¯Šé­šè»Ÿéª¨ (éŠ€ç“¶+æ·±è—æ¨™ç±¤)',
                iconColor: 'bg-blue-800',
                icon: <Activity className="w-6 h-6 text-white" />,
                function: 'é—œç¯€æ½¤æ»‘æ²¹ï¼ˆé¡§è†è“‹ã€è»Ÿéª¨ï¼‰',
                message: 'é€™æ˜¯çµ¦è†è“‹ã€Œä¸Šæ²¹ã€çš„ã€‚è£¡é¢æœ‰è‘¡è„ç³–èƒºï¼Œè®“èµ°è·¯æ¯”è¼ƒæœ‰åŠ›ï¼Œæ¸›å°‘é—œç¯€å¡å¡æˆ–ç£¨æçš„æ„Ÿè¦ºã€‚'
              },
              {
                title: 'è‹¥å…ƒéŒ  (æ©˜è‰²ç›’)',
                iconColor: 'bg-orange-500',
                icon: <Sparkles className="w-6 h-6 text-white" />,
                function: 'è…¸èƒƒå°å¹«æ‰‹ï¼ˆåŠ©æ¶ˆåŒ–ã€é˜²è„¹æ°£ï¼‰',
                message: 'é€™æ˜¯æ¶ˆåŒ–é…µç´ ã€‚å› ç‚ºæ‚¨æœ‰èƒƒé£Ÿé“é€†æµï¼Œé€™å€‹å¯ä»¥å¹«å¿™æŠŠèƒƒè£¡çš„æ±è¥¿è¶•å¿«æ¶ˆåŒ–æ‰ï¼Œæ¯”è¼ƒä¸æœƒè„¹æ°£æˆ–ç«ç‡’å¿ƒã€‚'
              }
            ]
          },
          {
            category: 'ğŸ¥ é†«å¸«è™•æ–¹è—¥ (ä¸èƒ½åœ)',
            isMed: true,
            items: [
              {
                title: 'è„ˆå¾‹å¾ª (Meletin)',
                iconColor: 'bg-red-100',
                textColor: 'text-red-800',
                function: 'æ§åˆ¶å¿ƒå¾‹ä¸æ•´',
                message: 'é€™æ˜¯å¿ƒè‡Ÿç§‘é†«å¸«é–‹çš„ï¼Œçµ•å°ä¸èƒ½è‡ªå·±åœè—¥ï¼Œä¹Ÿä¸èƒ½å¿˜è¨˜åƒã€‚'
              },
              {
                title: 'å–„å¯§ (Xanthium)',
                iconColor: 'bg-red-100',
                textColor: 'text-red-800',
                function: 'æ”¯æ°£ç®¡æ“´å¼µï¼ˆæ²»æ°£å–˜/å‘¼å¸é“ï¼‰',
                message: 'é€™é¡†è—¥çµ•å°ä¸èƒ½é…å’–å•¡æˆ–èŒ¶ï¼Œä¸ç„¶å¿ƒè·³æœƒè®Šå¾ˆå¿«ã€æ‰‹æœƒæŠ–ã€‚'
              }
            ]
          }
        ];

        // ----------------------------------------------------------------------
        // å…ƒä»¶ï¼šå–®å€‹è—¥å“å¡ç‰‡
        // ----------------------------------------------------------------------

        const MedItem = ({ item, isTaken, onToggle }) => {
          return (
            <div 
              onClick={() => onToggle(item.id)}
              className={`
                relative mb-4 p-4 rounded-xl border-2 transition-all duration-200 cursor-pointer select-none
                ${isTaken 
                  ? 'bg-green-50 border-green-500 shadow-sm opacity-80' 
                  : 'bg-white border-gray-200 shadow-md active:scale-95'
                }
              `}
            >
              <div className="flex justify-between items-start">
                <div className="flex-1">
                  {/* æ¨™ç±¤å€ */}
                  <div className="flex flex-wrap gap-2 mb-2">
                    <span className={`px-2 py-1 rounded-lg text-sm font-bold ${item.tagColor}`}>
                      {item.isMed ? 'è—¥å“' : 'ä¿å¥å“'}
                    </span>
                    <span className="bg-blue-100 text-blue-900 px-2 py-1 rounded-lg text-sm font-bold">
                      {item.dose}
                    </span>
                  </div>

                  {/* åç¨±å€ */}
                  <h3 className={`text-xl font-bold mb-1 ${isTaken ? 'text-green-800 line-through' : 'text-gray-900'}`}>
                    {item.name}
                  </h3>
                  
                  {/* å‚™è¨» */}
                  {item.note && (
                    <p className="text-base text-gray-500 font-medium">
                      ğŸ’¡ {item.note}
                    </p>
                  )}

                  {/* è­¦ç¤ºèª */}
                  {item.warning && (
                    <div className="mt-2 flex items-start p-2 bg-red-50 rounded-lg border border-red-200">
                      <AlertTriangle className="w-5 h-5 text-red-600 mr-2 flex-shrink-0 mt-1" />
                      <p className="text-red-700 font-bold text-base leading-tight">
                        {item.warning}
                      </p>
                    </div>
                  )}
                </div>

                {/* å‹¾é¸æŒ‰éˆ• */}
                <div className={`
                  w-14 h-14 rounded-full flex items-center justify-center border-4 ml-3 flex-shrink-0
                  ${isTaken ? 'bg-green-500 border-green-500' : 'bg-gray-50 border-gray-300'}
                `}>
                  {isTaken && <Check className="w-8 h-8 text-white" strokeWidth={4} />}
                </div>
              </div>
              
              {isTaken && (
                <div className="absolute top-2 right-2">
                  <span className="text-xs font-bold text-green-600 bg-green-100 px-2 py-1 rounded-full">
                    å·²åƒ
                  </span>
                </div>
              )}
            </div>
          );
        };

        // ----------------------------------------------------------------------
        // å…ƒä»¶ï¼šåŠŸæ•ˆå¡ç‰‡
        // ----------------------------------------------------------------------
        const BenefitCard = ({ item, isMed }) => (
          <div className={`mb-4 rounded-xl border-2 overflow-hidden ${isMed ? 'bg-red-50 border-red-200' : 'bg-white border-gray-200'}`}>
            <div className="p-4">
              <div className="flex items-center gap-3 mb-3">
                {/* é¡è‰²æ¨™ç±¤/åœ–ç¤º */}
                <div className={`w-12 h-12 rounded-full flex items-center justify-center shadow-sm flex-shrink-0 ${item.iconColor} ${item.textColor || ''}`}>
                  {isMed ? <Pill className="w-7 h-7" /> : item.icon}
                </div>
                <h3 className={`text-xl font-bold ${isMed ? 'text-red-900' : 'text-gray-900'}`}>
                  {item.title}
                </h3>
              </div>
              
              <div className="space-y-3">
                <div className="bg-white/60 p-2 rounded-lg">
                  <span className="font-bold text-emerald-700 block mb-1">âœ¨ åŠŸèƒ½ï¼š</span>
                  <span className="text-lg font-bold text-gray-800">{item.function}</span>
                </div>
                
                <div className={`p-3 rounded-lg relative ${isMed ? 'bg-white border-l-4 border-red-500' : 'bg-blue-50 border-l-4 border-blue-400'}`}>
                  <p className="text-sm font-bold text-gray-500 mb-1">
                     {isMed ? 'ğŸ©º é†«å¸«äº¤ä»£ï¼š' : 'ğŸ’¬ çµ¦é•·è¼©çš„è©±ï¼š'}
                  </p>
                  <p className={`text-lg leading-relaxed ${isMed ? 'text-red-800 font-bold' : 'text-gray-700'}`}>
                    {item.message}
                  </p>
                </div>
              </div>
            </div>
          </div>
        );

        // ----------------------------------------------------------------------
        // å…ƒä»¶ï¼šä¸»æ‡‰ç”¨ç¨‹å¼
        // ----------------------------------------------------------------------

        function App() {
          const [activeTab, setActiveTab] = useState('schedule');
          const [takenItems, setTakenItems] = useState({});
          const [showResetModal, setShowResetModal] = useState(false);

          useEffect(() => {
            const today = new Date().toDateString();
            const savedDate = localStorage.getItem('medApp_lastDate');
            const savedItems = JSON.parse(localStorage.getItem('medApp_items') || '{}');

            if (savedDate !== today) {
              setTakenItems({});
              localStorage.setItem('medApp_lastDate', today);
            } else {
              setTakenItems(savedItems);
            }
          }, []);

          const toggleItem = (id) => {
            const newStatus = { ...takenItems, [id]: !takenItems[id] };
            setTakenItems(newStatus);
            localStorage.setItem('medApp_items', JSON.stringify(newStatus));
          };

          const handleResetClick = () => {
            setShowResetModal(true);
          };

          const confirmReset = () => {
            setTakenItems({});
            localStorage.setItem('medApp_items', JSON.stringify({}));
            setShowResetModal(false);
          };

          const totalItems = SCHEDULE_DATA.reduce((acc, curr) => acc + curr.items.length, 0);
          const completedItems = Object.values(takenItems).filter(Boolean).length;
          const progress = Math.round((completedItems / totalItems) * 100);

          const getTimingStyle = (timing) => {
            if (timing.includes('ä¸­é€”')) {
              return 'bg-yellow-200 border-yellow-400 text-yellow-900';
            } else if (timing.includes('ç«‹åˆ»')) {
              return 'bg-red-100 border-red-400 text-red-900';
            } else {
              return 'bg-blue-100 border-blue-400 text-blue-900';
            }
          };

          const currentDateStr = new Date().toLocaleDateString('zh-TW', { 
            month: 'long', 
            day: 'numeric', 
            weekday: 'long' 
          });

          const renderContent = () => {
            switch (activeTab) {
              case 'schedule':
                return (
                  <div className="space-y-8">
                    {SCHEDULE_DATA.map((section) => {
                      const groupedItems = section.items.reduce((acc, item) => {
                        const timeKey = item.timing;
                        if (!acc[timeKey]) {
                          acc[timeKey] = [];
                        }
                        acc[timeKey].push(item);
                        return acc;
                      }, {});

                      const timingOrder = ['åƒé£¯ä¸­é€”åƒ', 'é£¯å¾Œç«‹åˆ»åƒ', 'é£¯å¾Œåƒ'];
                      const sortedTimings = Object.keys(groupedItems).sort((a, b) => {
                        const indexA = timingOrder.indexOf(a);
                        const indexB = timingOrder.indexOf(b);
                        const valA = indexA === -1 ? 99 : indexA;
                        const valB = indexB === -1 ? 99 : indexB;
                        return valA - valB;
                      });

                      return (
                        <div key={section.id} className={`${section.color} rounded-2xl p-4 border-2 ${section.borderColor}`}>
                          <div className="flex items-center gap-3 mb-4 border-b border-black/10 pb-3">
                            <div>
                              <h2 className="text-2xl font-black text-gray-800">{section.title}</h2>
                              <p className="text-lg text-gray-600 font-medium">{section.subtitle}</p>
                            </div>
                          </div>
                          <div className="bg-white/50 p-2 mb-4 rounded-lg text-base font-medium text-gray-700">
                            {section.desc}
                          </div>

                          <div>
                            {sortedTimings.map(timing => (
                              <div key={timing} className="mb-6 last:mb-0">
                                <div className={`flex items-center gap-2 mb-3 px-3 py-2 rounded-xl inline-flex border-2 shadow-sm ${getTimingStyle(timing)}`}>
                                   <Clock className="w-6 h-6" strokeWidth={2.5} />
                                   <span className="text-xl font-black tracking-wide">{timing}</span>
                                </div>
                                
                                {groupedItems[timing].map((item) => (
                                  <MedItem 
                                    key={item.id}
                                    item={item}
                                    isTaken={!!takenItems[item.id]}
                                    onToggle={toggleItem}
                                  />
                                ))}
                              </div>
                            ))}
                          </div>
                        </div>
                      );
                    })}

                    <div className="flex justify-center pb-4">
                      <button
                        onClick={handleResetClick}
                        className="flex items-center gap-2 bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all active:scale-95 text-base"
                      >
                        <RotateCcw className="w-5 h-5" />
                        é‡ç½®ä»Šæ—¥ç´€éŒ„
                      </button>
                    </div>

                    <div className="h-8" />
                  </div>
                );

              case 'benefits':
                return (
                  <div className="space-y-6">
                    <div className="bg-emerald-50 p-4 rounded-xl border border-emerald-200">
                       <h2 className="text-xl font-bold text-emerald-800 mb-2">ğŸ’¡ ç¸½çµå°å®åš€</h2>
                       <p className="text-lg text-gray-800 leading-relaxed font-medium">
                         ã€Œæ—©æ™šçš„è¥¿è—¥æ˜¯æ²»ç—…çš„ï¼Œä¸€å®šè¦æº–æ™‚åƒï¼›è‹¥å…ƒéŒ æ˜¯å¹«å¿™èƒƒæ¶ˆåŒ–çš„ï¼Œåƒé£½è¦ºå¾—è„¹å°±åƒï¼›å…¶ä»–çš„ç“¶ç“¶ç½ç½æ˜¯ä¿é¤Šèº«é«”çš„ï¼Œè·Ÿè‘—é£¯ä¸€èµ·åƒå¸æ”¶æœ€å¥½ï¼ã€
                       </p>
                    </div>

                    {BENEFITS_DATA.map((section, idx) => (
                      <div key={idx}>
                        <h2 className={`text-2xl font-black mb-4 flex items-center ${section.isMed ? 'text-red-700' : 'text-gray-800'}`}>
                           {section.category}
                        </h2>
                        {section.items.map((item, i) => (
                          <BenefitCard key={i} item={item} isMed={section.isMed} />
                        ))}
                      </div>
                    ))}
                  </div>
                );

              case 'info':
                return (
                  <div className="space-y-6">
                    <div className="bg-white rounded-2xl p-5 shadow-sm border border-gray-200">
                      <h2 className="text-2xl font-bold text-red-600 flex items-center mb-4">
                        <AlertTriangle className="w-8 h-8 mr-2" />
                        é£²é£Ÿå¤§ç¦å¿Œ
                      </h2>
                      <div className="space-y-4 text-lg">
                        <div className="bg-red-50 p-3 rounded-lg">
                          <h3 className="font-bold text-red-800 mb-1">ğŸš« ç¦æ­¢æ¹¯æ³¡é£¯</h3>
                          <p>ä¹¾æ¿•è¦åˆ†é›¢ï¼é£¯å‰å–å¹¾å£æ¹¯å°±å¥½ï¼Œé£¯å¾Œä¸è¦å¤§é‡å–æ°´ï¼Œé¿å…èƒƒæ’å¤§ã€‚</p>
                        </div>
                        <div className="bg-red-50 p-3 rounded-lg">
                          <h3 className="font-bold text-red-800 mb-1">ğŸš« å’–å•¡èˆ‡æ¿ƒèŒ¶</h3>
                          <p>ä¸­åˆä»¥å¾Œã€Œç¦æ­¢ã€æ”å–å’–å•¡å› ã€‚è‹¥è¦å–èŒ¶åªèƒ½åœ¨æ—©ä¸Šå–ã€Œæ·¡èŒ¶ã€ã€‚</p>
                        </div>
                        <div className="bg-red-50 p-3 rounded-lg">
                          <h3 className="font-bold text-red-800 mb-1">ğŸš« ç”œé£Ÿèˆ‡ç³¯ç±³</h3>
                          <p>ç´…è±†æ¹¯ã€æ¹¯åœ“ã€ç”œç³•é»æ˜¯å¤§åœ°é›·ã€‚æ™šé¤å¾Œçµ•å°ä¸è¦åƒç”œé»ã€‚</p>
                        </div>
                      </div>
                    </div>

                    <div className="bg-white rounded-2xl p-5 shadow-sm border border-gray-200">
                       <h2 className="text-2xl font-bold text-emerald-700 flex items-center mb-4">
                        <BookOpen className="w-8 h-8 mr-2" />
                        å„æ™‚æ®µè­·èƒƒé‡é»
                      </h2>
                      
                      <div className="space-y-6">
                        <div className="bg-orange-50 p-4 rounded-xl border-2 border-orange-100">
                          <h3 className="text-xl font-black text-orange-800 flex items-center mb-3">
                             æ—©é¤ (å•Ÿå‹•èº«é«”)
                          </h3>
                          <div className="pl-2 space-y-2">
                            <p className="text-lg font-bold text-gray-800">
                              ğŸ’Š è™•æ–¹è—¥ x2 + <span className="text-yellow-600 bg-yellow-100 px-1 rounded">Bç¾¤</span> + è—è“
                            </p>
                            <div className="bg-white p-3 rounded-lg border-l-4 border-red-500 shadow-sm">
                              <p className="font-bold text-red-700 text-lg mb-1">âš ï¸ é‡è¦æé†’ï¼š</p>
                              <p className="text-gray-700 leading-relaxed">
                                è—¥ä¸¸è«‹é…<span className="font-black text-blue-600 mx-1">ã€Œç™½é–‹æ°´ã€</span>åæœã€‚<br/>
                                <span className="font-bold text-red-600">ç¦æ­¢é…ç‰›å¥¶æˆ–è±†æ¼¿</span>ï¼Œä»¥å…å½±éŸ¿å¸æ”¶æˆ–åˆºæ¿€èƒƒéƒ¨ã€‚
                              </p>
                            </div>
                          </div>
                        </div>

                        <div className="bg-yellow-50 p-4 rounded-xl border-2 border-yellow-100">
                          <h3 className="text-xl font-black text-yellow-800 flex items-center mb-3">
                             åˆé¤ (åˆ†æ•£æ²¹è†©)
                          </h3>
                          <div className="pl-2 space-y-2">
                            <p className="text-lg font-bold text-gray-800">
                              ğŸ’Š <span className="text-green-700 bg-green-100 px-1 rounded">æµ·è±¹æ²¹</span> + ç¶œåˆç¶­ä»–å‘½
                            </p>
                            <div className="bg-white p-3 rounded-lg border-l-4 border-green-500 shadow-sm">
                              <p className="font-bold text-green-800 text-lg mb-1">ğŸ’¡ åƒæ³•æŠ€å·§ï¼š</p>
                              <p className="text-gray-700 leading-relaxed">
                                æµ·è±¹æ²¹å‹™å¿…åœ¨<span className="font-black text-green-700 mx-1">ã€Œåƒé£¯ä¸­é–“ã€</span>åä¸‹ã€‚<br/>
                                <span className="text-sm text-gray-500">ï¼ˆé£¯åƒä¸€åŠ âœ åæµ·è±¹æ²¹ âœ ç¹¼çºŒåƒé£¯ï¼‰</span>
                              </p>
                            </div>
                          </div>
                        </div>

                        <div className="bg-indigo-50 p-4 rounded-xl border-2 border-indigo-100">
                          <h3 className="text-xl font-black text-indigo-800 flex items-center mb-3">
                             æ™šé¤ (å¤œé–“æ¶ˆåŒ–)
                          </h3>
                          <div className="pl-2 space-y-2">
                            <p className="text-lg font-bold text-gray-800">
                              ğŸ’Š è™•æ–¹è—¥ x2 + é¯Šé­šè»Ÿéª¨ + <span className="text-orange-600 bg-orange-100 px-1 rounded">è‹¥å…ƒéŒ </span>
                            </p>
                            <div className="bg-white p-3 rounded-lg border-l-4 border-orange-500 shadow-sm">
                              <p className="font-bold text-orange-800 text-lg mb-1">â­ å¿…åƒé‡é»ï¼š</p>
                              <p className="text-gray-700 leading-relaxed">
                                <span className="font-black text-orange-600 mx-1">è‹¥å…ƒéŒ ä¸€å®šè¦åƒï¼</span><br/>
                                å®ƒèƒ½å¹«åŠ©æ¶ˆåŒ–æ™šé¤é£Ÿç‰©ï¼Œé¿å…ç¡è¦ºæ™‚èƒƒè£¡ç©é£Ÿå°è‡´é€†æµã€‚
                              </p>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                );
              
              default:
                return null;
            }
          };

          return (
            <div className="min-h-screen bg-gray-100 pb-24 font-sans text-gray-900 relative pt-[180px]">
              
              <div className="bg-emerald-600 py-3 px-4 fixed top-0 left-0 right-0 z-20 shadow-md">
                <h1 className="text-2xl font-bold text-white text-center mb-1">
                   åª½åª½çš„å¥åº·å°ç§˜æ›¸
                </h1>
                
                <div className="text-white text-center space-y-1">
                  <p className="text-2xl font-bold opacity-90 tracking-wide">
                    {currentDateStr}
                  </p>
                  
                  {activeTab === 'schedule' && (
                    <p className="text-2xl font-bold text-yellow-300">
                      ä»Šæ—¥é€²åº¦ï¼š{completedItems} / {totalItems} é …
                    </p>
                  )}
                </div>

                {activeTab === 'schedule' && (
                  <div className="mt-2 bg-emerald-800/50 rounded-full h-3 w-full overflow-hidden border border-emerald-500/30">
                    <div 
                      className="bg-yellow-400 h-full transition-all duration-500 shadow-[0_0_10px_rgba(250,204,21,0.5)]"
                      style={{ width: `${progress}%` }}
                    />
                  </div>
                )}
              </div>

              <div className="max-w-md mx-auto p-4">
                {renderContent()}
              </div>

              <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-40">
                <div className="flex justify-around max-w-md mx-auto">
                  <button 
                    onClick={() => setActiveTab('schedule')}
                    className={`flex flex-col items-center justify-center p-2 w-1/3 transition-colors border-r border-gray-200 ${
                      activeTab === 'schedule' 
                        ? 'bg-emerald-600 text-white' 
                        : 'bg-emerald-50 text-emerald-700 hover:bg-emerald-100'
                    }`}
                  >
                    <Pill className="w-7 h-7 mb-1" />
                    <span className="text-lg font-bold">ä»Šæ—¥èª²è¡¨</span>
                  </button>
                  
                  <button 
                    onClick={() => setActiveTab('benefits')}
                    className={`flex flex-col items-center justify-center p-2 w-1/3 transition-colors border-r border-gray-200 ${
                      activeTab === 'benefits' 
                        ? 'bg-purple-600 text-white' 
                        : 'bg-purple-50 text-purple-700 hover:bg-purple-100'
                    }`}
                  >
                    <Sparkles className="w-7 h-7 mb-1" />
                    <span className="text-lg font-bold">åŠŸæ•ˆç™¾ç§‘</span>
                  </button>

                  <button 
                    onClick={() => setActiveTab('info')}
                    className={`flex flex-col items-center justify-center p-2 w-1/3 transition-colors ${
                      activeTab === 'info' 
                        ? 'bg-blue-600 text-white' 
                        : 'bg-blue-50 text-blue-700 hover:bg-blue-100'
                    }`}
                  >
                    <Info className="w-7 h-7 mb-1" />
                    <span className="text-lg font-bold">ç¦å¿Œå®åš€</span>
                  </button>
                </div>
              </div>

              {showResetModal && (
                <div className="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4">
                  <div className="bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl">
                    <div className="text-center">
                      <div className="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4">
                        <AlertTriangle className="h-10 w-10 text-red-600" />
                      </div>
                      <h3 className="text-2xl font-bold text-gray-900 mb-2">ç¢ºå®šè¦æ¸…é™¤å—ï¼Ÿ</h3>
                      <p className="text-lg text-gray-500 mb-8">
                        é€™æœƒæŠŠä»Šå¤©æ‰€æœ‰æ‰“å‹¾çš„ç´€éŒ„éƒ½è®Šå›åŸç‹€å–”ï¼
                      </p>
                      <div className="flex gap-4">
                        <button
                          onClick={() => setShowResetModal(false)}
                          className="w-1/2 py-4 px-4 rounded-xl bg-gray-100 text-gray-700 font-bold text-xl hover:bg-gray-200 transition-colors"
                        >
                          å–æ¶ˆ
                        </button>
                        <button
                          onClick={confirmReset}
                          className="w-1/2 py-4 px-4 rounded-xl bg-red-500 text-white font-bold text-xl hover:bg-red-600 transition-colors"
                        >
                          ç¢ºå®šæ¸…é™¤
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              )}

            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
