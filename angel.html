<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mounjaro ç‡Ÿé¤Šè£œå……è¿½è¹¤å™¨</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.263.1"
        }
    }
    </script>

    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f3f4f6; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .sticky-header { backdrop-filter: blur(10px); background-color: rgba(255, 255, 255, 0.9); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Sun, Moon, Sunrise, Bed, CheckCircle, Circle, Info, Pill, 
            Droplet, Coffee, Utensils, Calendar, ShieldAlert, Repeat, Plane, Trash2 
        } from 'lucide-react';

        // --- Data Definitions (Moved outside component for optimization) ---
        
        const scheduleDataTwoMeals = [
            {
                id: 'phase1',
                title: 'ç¬¬ä¸€éšæ®µï¼šèµ·åºŠç©ºè…¹',
                subtitle: 'é¤å‰ 30 åˆ†é˜',
                icon: Sunrise,
                iconColor: 'text-orange-600',
                color: 'bg-orange-100',
                items: [
                    { id: 'neocell', name: 'NeoCell Super Collagen', dose: '2 éŒ ', desc: 'çš®è†šèˆ‡é ­é«®çš„åœ°åŸº', type: 'pill' },
                    { id: 'nmn', name: 'bard NMN 30000', dose: '1 é¡†', desc: 'å–šé†’ç´°èƒèˆ‡é«”åŠ›', type: 'pill' }
                ]
            },
            {
                id: 'phase2',
                title: 'ç¬¬äºŒéšæ®µï¼šç¬¬ä¸€é¤ (æ—©åˆé¤)',
                subtitle: 'å•Ÿå‹•ä»£è¬ãƒ»æç¥ãƒ»æ²¹é¡',
                note: 'èƒƒå£è¼ƒå¥½æ™‚æ”å–ï¼Œé©åˆååš¥å¤§é¡†è† å›Š',
                icon: Sun,
                iconColor: 'text-amber-600',
                color: 'bg-amber-100',
                subSections: [
                    {
                        title: 'é£¯å‰å…ˆåƒ (ä¸¸é¡/ç²‰é¡)',
                        items: [
                            { id: 'profaes4', name: 'ProFaes4 ç›Šç”ŸèŒ', dose: '1 é¡†', desc: 'éš¨é¤ç¬¬ä¸€å£åƒï¼ŒåŠ©æ¶ˆåŒ–ã€æ¸›å°‘è„¹æ°£', type: 'pill' },
                            { id: 'bkomplex', name: 'Mivolis B-Komplex (Bç¾¤)', dose: '1 é¡†', desc: 'æä¾›å·¥ä½œæ‰€éœ€èƒ½é‡', type: 'pill' },
                            { id: 'beauty', name: 'Mivolis ç¾å®¹é…æ–¹ (Haut...)', dose: '1 éŒ ', desc: 'å«é‹…èˆ‡Q10ï¼Œç™½å¤©å¸æ”¶å¥½', type: 'pill' }
                        ]
                    },
                    {
                        title: 'é£¯ä¸­æˆ–é£¯å¾Œå (æ²¹é¡)',
                        items: [
                            { id: 'seal_oil', name: 'BioSunn Selolje æµ·è±¹æ²¹', dose: '1 é¡†', desc: 'Mounjaro é˜²èƒƒé£Ÿé“é€†æµï¼šæ²¹é¡è«‹åœ¨ç™½å¤©æ¶ˆåŒ–', type: 'oil' }
                        ]
                    }
                ]
            },
            {
                id: 'phase3',
                title: 'ç¬¬ä¸‰éšæ®µï¼šç¬¬äºŒé¤ (æ™šé¤)',
                subtitle: 'æŠ—æ°§åŒ–ãƒ»ä¿®å¾©ãƒ»é¿å…æ²¹è†©',
                interPhaseAlert: 'â˜• å¿«æ¨‚ä¸‹åˆèŒ¶ï¼æœæœèƒ½é‡ã€ç´…éŸ»æ­è•¾ã€‘(15:00 - 16:00)',
                interPhaseNote: 'å»ºè­°æ²–æ³¡ 350cc - 400cc çš„æ°´åŠèŠ± 20-30 åˆ†é˜ æ…¢æ…¢å–å®Œ',
                interPhaseColor: 'bg-orange-50 border-orange-200 text-orange-800',
                icon: Utensils,
                iconColor: 'text-sky-600',
                color: 'bg-sky-100',
                items: [
                    { id: 'vitc', name: 'Mivolis Vitamin C', dose: '1 é¡†', desc: 'ç·©é‡‹å‹ï¼Œå»¶çºŒå¤œé–“æŠ—æ°§åŒ–ä¿®å¾©', type: 'pill' },
                    { id: 'blueberry', name: 'Nordmea BlÃ¥bÃ¦r è—è“', dose: '1 é¡†', desc: 'èˆ’ç·©æ•´å¤©ç”¨çœ¼ç–²å‹', type: 'pill' },
                    { id: 'cartilage', name: 'BioSunn Haibrusk è»Ÿéª¨', dose: '2 é¡†', desc: 'å«éŠ…èˆ‡è»Ÿéª¨ç´  (èˆ‡æ—©ä¸Šçš„é‹…éŒ¯é–‹)', type: 'pill' }
                ]
            },
            {
                id: 'phase4',
                title: 'ç¬¬å››éšæ®µï¼šç¡å‰ (â°ï¼“ï¼ï¼ï¼–ï¼åˆ†é˜)',
                subtitle: 'è§£æ±ºä¾¿ç§˜èˆ‡ç¡çœ å•é¡Œ',
                interPhaseAlert: 'ğŸ’¡ é»ƒé‡‘æ™‚é–“ï¼šæ™šé¤è‡³ç¡å‰è‡³å°‘é–“éš” 2 å°æ™‚',
                interPhaseColor: 'bg-yellow-50 border-yellow-200 text-yellow-800',
                icon: Bed,
                iconColor: 'text-indigo-600',
                color: 'bg-indigo-100',
                items: [
                    { id: 'magnesium', name: 'Mivolis Magnesium 500 é‚', dose: '1 éŒ ', desc: 'é—œéµï¼å¹«åŠ©æ’ä¾¿èˆ‡æ”¾é¬†è‚Œè‚‰', type: 'pill' },
                    { id: 'calcium', name: 'Mivolis Calcium 600 éˆ£', dose: '1 éŒ ', desc: 'è£œéª¨ä¸¦ç©©å®šç¥ç¶“', type: 'pill' },
                    { id: 'neocell_night', name: 'NeoCell Super Collagen', dose: '1 éŒ ', desc: 'åˆ†æ¬¡å¸æ”¶æ•ˆæœæ›´ä½³', type: 'pill' }
                ]
            }
        ];

        const getScheduleThreeMeals = (mode) => {
            const isGapMode = mode === 'gap';
            
            return [
                {
                    id: 'tm_phase1',
                    title: '1. èµ·åºŠç©ºè…¹ (æ—©é¤å‰ 30 åˆ†é˜)',
                    subtitle: 'é˜²çš®é¬†é—œéµãƒ»å¸æ”¶æœ€ä½³',
                    icon: Sunrise,
                    iconColor: 'text-orange-600',
                    color: 'bg-orange-100',
                    items: [
                        { id: 'tm_neocell', name: 'NeoCell Super Collagen', dose: '2 éŒ ', desc: 'é˜²çš®é¬†æœ€é—œéµï¼Œç©ºè…¹å¸æ”¶æœ€ä½³', type: 'pill' },
                        { id: 'tm_nmn', name: 'bard NMN 30000', dose: '1 é¡†', desc: 'å–šé†’ç´°èƒï¼Œè£œå……é«”åŠ›', type: 'pill' }
                    ]
                },
                {
                    id: 'tm_phase2',
                    title: '2. æ—©é¤ (å•Ÿå‹•ä»£è¬)',
                    subtitle: isGapMode ? 'ç©ºçª—æœŸé‡é»ï¼šå¢åŠ é£½è¶³æ„Ÿ' : 'é é˜²è„¹æ°£ãƒ»ç¶­æŒä»£è¬',
                    icon: Coffee,
                    iconColor: 'text-amber-600',
                    color: 'bg-amber-100',
                    items: [
                        { id: 'tm_profaes4', name: 'ProFaes4 ç›Šç”ŸèŒ', dose: '1 é¡†', desc: 'éš¨é¤ç¬¬ä¸€å£åƒï¼Œé é˜²æ•´å¤©çš„è„¹æ°£èˆ‡ä¾¿ç§˜', type: 'pill' },
                        { id: 'tm_bkomplex', name: 'Mivolis B-Komplex (Bç¾¤)', dose: '1 é¡†', desc: 'æç¥ã€ç¶­æŒåŸºç¤ä»£è¬ï¼Œç™½å¤©åƒé¿å…å¤±çœ ', type: 'pill' },
                        { id: 'tm_ampk', name: 'Life Extension AMPK', dose: '1 éŒ ', desc: 'ç‡ƒç‡’è…¹éƒ¨è„‚è‚ªï¼Œé…åˆè—¥ç‰©æ•ˆæœä½³', type: 'pill' },
                        ...(isGapMode ? [{ 
                            id: 'tm_mct', 
                            name: "Nature's Truth MCT Oil", 
                            dose: '1 é¡†', 
                            desc: 'â˜… ç©ºçª—æœŸåŠ å¼·ï¼šå¢åŠ é£½è¶³æ„Ÿï¼Œæ’éæ—©ä¸Šé£¢é¤“æ„Ÿ', 
                            type: 'oil',
                            highlight: true 
                        }] : [])
                    ]
                },
                {
                    id: 'tm_phase3',
                    title: '3. åˆé¤ (æ²¹è„‚æ¶ˆåŒ–+é¤Šé¡)',
                    subtitle: 'è­·èƒƒãƒ»è­·çœ¼',
                    icon: Sun,
                    iconColor: 'text-yellow-600',
                    color: 'bg-yellow-100',
                    items: [
                        { id: 'tm_beauty', name: 'Mivolis ç¾å®¹é…æ–¹ (Haut+)', dose: '1 éŒ ', desc: 'å«é‹…ã€Q10ï¼Œéš¨é¤åƒè­·èƒƒä¸å™å¿ƒ', type: 'pill' },
                        { id: 'tm_seal', name: 'BioSunn Selolje (æµ·è±¹æ²¹)', dose: '1 é¡†', desc: 'æ²¹é¡åˆé¤æ¶ˆåŒ–æœ€å¥½ï¼Œé¿å…å¤œé–“èƒƒé£Ÿé“é€†æµ', type: 'oil' },
                        { id: 'tm_blueberry', name: 'Nordmea BlÃ¥bÃ¦r (è—è“)', dose: '1 é¡†', desc: 'è­·çœ¼ã€æŠ—æ°§åŒ–', type: 'pill' },
                        ...(isGapMode ? [{ 
                            id: 'tm_mct_lunch', 
                            name: "Nature's Truth MCT Oil", 
                            dose: '1 é¡†', 
                            desc: 'â˜… ç©ºçª—æœŸåŠ å¼·ï¼šå»¶çºŒé£½è¶³æ„Ÿè‡³ä¸‹åˆ', 
                            type: 'oil',
                            highlight: true 
                        }] : [])
                    ]
                },
                {
                    id: 'tm_phase4',
                    title: '4. æ™šé¤ (ä¿®å¾©+æŠ—æ°§åŒ–)',
                    subtitle: 'å¤œé–“ä¿®å¾©ãƒ»é—œç¯€ä¿é¤Š',
                    interPhaseAlert: 'â˜• å¿«æ¨‚ä¸‹åˆèŒ¶ï¼æœæœèƒ½é‡ã€ç´…éŸ»æ­è•¾ã€‘(15:00 - 16:00)',
                    interPhaseNote: 'å»ºè­°æ²–æ³¡ 350cc - 400cc çš„æ°´åŠèŠ± 20-30 åˆ†é˜ æ…¢æ…¢å–å®Œ',
                    interPhaseColor: 'bg-orange-50 border-orange-200 text-orange-800',
                    icon: Utensils,
                    iconColor: 'text-sky-600',
                    color: 'bg-sky-100',
                    note: isGapMode ? 'âš ï¸ ç©ºçª—æœŸèª¿æ•´ï¼šæ™šé¤æ¾±ç²‰è«‹æ¸›åŠï¼Œé¿å…è„‚è‚ªå †ç©' : null,
                    noteType: isGapMode ? 'warning' : null,
                    items: [
                        { id: 'tm_vitc', name: 'Mivolis Vitamin C', dose: '1 é¡†', desc: 'å¹«åŠ©è»Ÿéª¨èˆ‡è† åŸè›‹ç™½åˆæˆï¼Œå¤œé–“æŠ—æ°§åŒ–', type: 'pill' },
                        { id: 'tm_cartilage', name: 'BioSunn Haibrusk (é¯Šé­šè»Ÿéª¨)', dose: '2 é¡†', desc: 'å¤œé–“ä¿®å¾©é—œç¯€è»Ÿéª¨ï¼Œé é˜²é‹å‹•æå‚·', type: 'pill' }
                    ]
                },
                {
                    id: 'tm_phase5',
                    title: '5. ç¡å‰ (â°ï¼“ï¼ï¼ï¼–ï¼åˆ†é˜)',
                    subtitle: 'è§£æ±ºä¾¿ç§˜ãƒ»æ”¾é¬†åŠ©çœ ',
                    interPhaseAlert: 'ğŸ’¡ é»ƒé‡‘æ™‚é–“ï¼šæ™šé¤è‡³ç¡å‰è‡³å°‘é–“éš” 2 å°æ™‚',
                    interPhaseColor: 'bg-yellow-50 border-yellow-200 text-yellow-800',
                    icon: Bed,
                    iconColor: 'text-indigo-600',
                    color: 'bg-indigo-100',
                    items: [
                        { id: 'tm_magnesium', name: 'Mivolis Magnesium 500 (é‚)', dose: '1 éŒ ', desc: 'é—œéµï¼è§£æ±ºä¾¿ç§˜ã€æ”¾é¬†è‚Œè‚‰ã€åŠ©çœ ', type: 'pill' },
                        { id: 'tm_calcium', name: 'Mivolis Calcium 600 (éˆ£)', dose: '1 éŒ ', desc: 'è£œéˆ£ï¼Œèˆ‡é‚ä¸€èµ·ç©©å®šç¥ç¶“', type: 'pill' },
                        { id: 'tm_neocell_night', name: 'NeoCell Super Collagen', dose: '1 éŒ ', desc: 'åˆ†æ¬¡å¸æ”¶ï¼Œå¤œé–“ä¿®å¾©', type: 'pill' }
                    ]
                }
            ];
        };

        const alternativesData = [
            {
                category: 'ç¡çœ èˆ‡æ’ä¾¿',
                icon: Bed,
                iconColor: 'text-indigo-600',
                color: 'bg-indigo-50',
                primary: 'Mivolis Magnesium 500 (é‚)',
                alt: 'Natrol 5-HTP',
                note: 'é‚èƒ½è§£ä¾¿ç§˜+åŠ©çœ ã€‚è‹¥é‚åƒå®Œï¼Œæ”¹åƒ 5-HTP ç¶­æŒç¡çœ ã€‚'
            },
            {
                category: 'èƒ½é‡èˆ‡ä»£è¬',
                icon: Coffee,
                iconColor: 'text-amber-600',
                color: 'bg-amber-50',
                primary: 'Mivolis B-Komplex (Bç¾¤)',
                alt: "Nature's Truth MCT Oil",
                note: (<span>æ‰“é‡æœŸé–“ B ç¾¤å„ªå…ˆã€‚MCT æ²¹æ˜“è…¹ç€‰ï¼Œå»ºè­°åƒ…åœ¨ <strong className="text-orange-600">å»¶å¾Œæ‰“é‡ (ç¬¬ 8-11 å¤©)</strong> æ™‚è£œå……é£½è¶³æ„Ÿã€‚</span>)
            },
            {
                category: 'å…ç–«èˆ‡é‹…',
                icon: ShieldAlert,
                iconColor: 'text-rose-600',
                color: 'bg-rose-50',
                primary: 'Mivolis ç¾å®¹é…æ–¹ (Haut+)',
                alt: 'Mivolis Zink (å–®æ–¹é‹…)',
                note: 'ç¾å®¹é…æ–¹å«é‹…ä¸å‚·èƒƒã€‚å–®æ–¹é‹…åƒ…å»ºè­°æ„Ÿå†’æ™‚çŸ­æœŸè£œå……ã€‚'
            },
            {
                category: 'æ²¹è„‚/å¥³æ€§',
                icon: Droplet,
                iconColor: 'text-sky-600',
                color: 'bg-sky-50',
                primary: 'BioSunn æµ·è±¹æ²¹',
                alt: 'äºå°¼æ´»åŠ› ç‰ç’ƒè‹£æ²¹',
                note: 'æµ·è±¹æ²¹ä»£è¬ä½³ã€‚ç‰ç’ƒè‹£æ²¹è‹¥é€ æˆæ‰“å—æœ‰æ²¹å‘³å¯æš«åœã€‚'
            }
        ];

        // --- Main Component ---

        const SupplementApp = () => {
            const [activeTab, setActiveTab] = useState('two-meals');
            const [threeMealMode, setThreeMealMode] = useState('standard'); 
            const [checkedItems, setCheckedItems] = useState({});
            const [progress, setProgress] = useState(0);

            // Logic to get current data
            const getCurrentScheduleData = () => {
                if (activeTab === 'two-meals') return scheduleDataTwoMeals;
                if (activeTab === 'three-meals') return getScheduleThreeMeals(threeMealMode);
                return [];
            };

            const currentSchedule = getCurrentScheduleData();

            // Progress Calculation
            const calculateTotalItems = () => {
                let count = 0;
                currentSchedule.forEach(phase => {
                    if (phase.items) count += phase.items.length;
                    if (phase.subSections) {
                        phase.subSections.forEach(sub => count += sub.items.length);
                    }
                });
                return count;
            };

            const totalItems = calculateTotalItems();

            // Load State
            useEffect(() => {
                const savedChecks = localStorage.getItem('mounjaro_daily_checks');
                const savedDate = localStorage.getItem('mounjaro_check_date');
                const today = new Date().toDateString();

                if (savedChecks && savedDate === today) {
                    setCheckedItems(JSON.parse(savedChecks));
                } else {
                    setCheckedItems({});
                    localStorage.setItem('mounjaro_check_date', today);
                }
            }, []);

            // Update Progress
            useEffect(() => {
                const currentIds = new Set();
                currentSchedule.forEach(phase => {
                    if (phase.items) phase.items.forEach(i => currentIds.add(i.id));
                    if (phase.subSections) phase.subSections.forEach(sub => sub.items.forEach(i => currentIds.add(i.id)));
                });

                const checkedCount = Object.keys(checkedItems).filter(id => checkedItems[id] && currentIds.has(id)).length;
                const percentage = totalItems > 0 ? Math.round((checkedCount / totalItems) * 100) : 0;
                
                setProgress(percentage);
                localStorage.setItem('mounjaro_daily_checks', JSON.stringify(checkedItems));
            }, [checkedItems, totalItems, activeTab, threeMealMode]);

            const toggleCheck = (id) => {
                setCheckedItems(prev => ({
                    ...prev,
                    [id]: !prev[id]
                }));
            };

            const resetDaily = () => {
                if (window.confirm('ç¢ºå®šè¦é‡ç½®ä»Šæ—¥çš„æ‰€æœ‰ç´€éŒ„å—ï¼Ÿ')) {
                    setCheckedItems({});
                    window.scrollTo(0,0);
                }
            };

            // Render Helper: List Item
            const renderItem = (item) => {
                const isChecked = checkedItems[item.id] || false;
                return (
                    <div 
                        key={item.id} 
                        onClick={() => toggleCheck(item.id)}
                        className={`
                            flex items-center justify-between p-4 rounded-xl border transition-all cursor-pointer mb-2
                            ${isChecked ? 'bg-green-50 border-green-200' : 'bg-white border-gray-100 hover:border-blue-200'}
                            ${item.highlight ? 'ring-2 ring-yellow-400 ring-opacity-50' : ''}
                        `}
                    >
                        <div className="flex items-start gap-3 flex-1">
                            <div className={`mt-0.5 ${isChecked ? 'text-green-500' : 'text-gray-300'}`}>
                                {isChecked ? <CheckCircle className="w-6 h-6" /> : <Circle className="w-6 h-6" />}
                            </div>
                            <div>
                                <h4 className={`font-semibold text-lg ${isChecked ? 'text-green-800 line-through decoration-green-300' : 'text-gray-800'}`}>
                                    {item.name}
                                </h4>
                                <div className="flex items-center gap-2 mt-1">
                                    <span className={`text-xs px-2 py-0.5 rounded-full font-medium ${
                                        item.type === 'pill' ? 'bg-blue-100 text-blue-700' : 'bg-yellow-100 text-yellow-700'
                                    }`}>
                                        {item.dose}
                                    </span>
                                    <p className="text-sm text-gray-500">{item.desc}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            return (
                <div className="min-h-screen pb-20">
                    {/* Sticky Header */}
                    <div className="sticky-header sticky top-0 z-50 border-b border-gray-200 shadow-sm">
                        <div className="max-w-md mx-auto px-4 py-3">
                            <div className="flex justify-between items-center mb-2">
                                <h1 className="text-xl font-bold text-gray-800 flex items-center gap-2">
                                    <Calendar className="w-5 h-5 text-indigo-600" />
                                    ä»Šæ—¥è£œå……é€²åº¦
                                </h1>
                                <span className="text-sm font-bold text-indigo-600">{progress}%</span>
                            </div>
                            <div className="w-full bg-gray-200 rounded-full h-2.5">
                                <div 
                                    className="bg-indigo-600 h-2.5 rounded-full transition-all duration-500 ease-out" 
                                    style={{ width: `${progress}%` }}
                                ></div>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-md mx-auto px-4 py-4 space-y-6">
                        
                        {/* Tab Switcher */}
                        <div className="bg-white p-1 rounded-xl shadow-sm border border-gray-100 flex">
                            <button 
                                onClick={() => setActiveTab('two-meals')}
                                className={`flex-1 py-2 text-sm font-medium rounded-lg transition-colors ${
                                    activeTab === 'two-meals' ? 'bg-indigo-50 text-indigo-700 shadow-sm' : 'text-gray-500 hover:text-gray-700'
                                }`}
                            >
                                ä¸€æ—¥å…©é¤
                            </button>
                            <button 
                                onClick={() => setActiveTab('three-meals')}
                                className={`flex-1 py-2 text-sm font-medium rounded-lg transition-colors ${
                                    activeTab === 'three-meals' ? 'bg-indigo-50 text-indigo-700 shadow-sm' : 'text-gray-500 hover:text-gray-700'
                                }`}
                            >
                                ä¸€æ—¥ä¸‰é¤
                            </button>
                        </div>

                        {/* Three Meal Mode Toggle */}
                        {activeTab === 'three-meals' && (
                            <div className="flex items-center justify-between bg-amber-50 p-3 rounded-lg border border-amber-100">
                                <div className="flex items-center gap-2">
                                    <Info className="w-5 h-5 text-amber-600" />
                                    <span className="text-sm font-medium text-amber-800">ç›®å‰æ¨¡å¼ï¼š{threeMealMode === 'standard' ? 'æ¨™æº– (ç¬¬1-7å¤©)' : 'ç©ºçª—æœŸ (ç¬¬8å¤©å¾Œ)'}</span>
                                </div>
                                <label className="relative inline-flex items-center cursor-pointer">
                                    <input 
                                        type="checkbox" 
                                        className="sr-only peer"
                                        checked={threeMealMode === 'gap'}
                                        onChange={() => setThreeMealMode(prev => prev === 'standard' ? 'gap' : 'standard')}
                                    />
                                    <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500"></div>
                                </label>
                            </div>
                        )}

                        {/* Schedule Rendering */}
                        <div className="space-y-6">
                            {currentSchedule.map((phase) => (
                                <div key={phase.id}>
                                    {/* Inter-phase Alert (Tea time, etc.) */}
                                    {phase.interPhaseAlert && (
                                        <div className={`mb-6 p-4 rounded-xl border ${phase.interPhaseColor || 'bg-yellow-50 border-yellow-200 text-yellow-800'}`}>
                                            <p className="font-bold flex items-center gap-2">
                                                {phase.interPhaseAlert}
                                            </p>
                                            {phase.interPhaseNote && (
                                                <p className="text-sm mt-1 opacity-90 ml-6">{phase.interPhaseNote}</p>
                                            )}
                                        </div>
                                    )}

                                    {/* Phase Header */}
                                    <div className="flex items-center gap-3 mb-3">
                                        <div className={`p-2 rounded-lg ${phase.color}`}>
                                            <phase.icon className={`w-6 h-6 ${phase.iconColor}`} />
                                        </div>
                                        <div>
                                            <h3 className="font-bold text-gray-800">{phase.title}</h3>
                                            <p className="text-xs text-gray-500 font-medium">{phase.subtitle}</p>
                                        </div>
                                    </div>

                                    {/* Phase Note */}
                                    {phase.note && (
                                        <div className={`mb-3 text-sm px-3 py-2 rounded-lg ${phase.noteType === 'warning' ? 'bg-red-50 text-red-600 border border-red-100' : 'bg-gray-100 text-gray-600'}`}>
                                            {phase.note}
                                        </div>
                                    )}

                                    {/* Items Container */}
                                    <div className="space-y-2 pl-2">
                                        {/* Standard Items */}
                                        {phase.items && phase.items.map(item => renderItem(item))}

                                        {/* SubSections (for nested meals) */}
                                        {phase.subSections && phase.subSections.map((sub, idx) => (
                                            <div key={idx} className="mt-4 first:mt-2">
                                                <h4 className="text-sm font-bold text-gray-500 mb-2 ml-1 uppercase tracking-wider">{sub.title}</h4>
                                                {sub.items.map(item => renderItem(item))}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* Alternatives Section */}
                        <div className="mt-12 border-t pt-8">
                            <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                                <Repeat className="w-5 h-5 text-gray-500" />
                                æ›¿ä»£æ–¹æ¡ˆèˆ‡å‚™è¨»
                            </h3>
                            <div className="grid grid-cols-1 gap-4">
                                {alternativesData.map((alt, idx) => (
                                    <div key={idx} className={`p-4 rounded-xl border border-transparent ${alt.color}`}>
                                        <div className="flex items-center gap-2 mb-2">
                                            <alt.icon className={`w-5 h-5 ${alt.iconColor}`} />
                                            <h4 className="font-bold text-gray-800">{alt.category}</h4>
                                        </div>
                                        <div className="text-sm space-y-1">
                                            <p><span className="text-gray-500">é¦–é¸ï¼š</span> <span className="font-medium">{alt.primary}</span></p>
                                            <p><span className="text-gray-500">æ›¿ä»£ï¼š</span> <span className="font-medium">{alt.alt}</span></p>
                                            <p className="text-xs text-gray-600 mt-2 bg-white/60 p-2 rounded">{alt.note}</p>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Reset Button */}
                        <button 
                            onClick={resetDaily}
                            className="w-full mt-8 py-3 bg-white border border-red-200 text-red-500 rounded-xl font-medium hover:bg-red-50 transition-colors flex items-center justify-center gap-2"
                        >
                            <Trash2 className="w-4 h-4" />
                            é‡ç½®ä»Šæ—¥ç´€éŒ„
                        </button>
                        
                        <div className="h-10"></div>
                    </div>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<SupplementApp />);
    </script>
</body>
</html>
